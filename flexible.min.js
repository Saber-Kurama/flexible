/**
 * author: WangLe
 * github: [https://github.com/jiankafei]
 * 博客: [https://jiankafei.github.io/]
 */
;(function(c,e){'use strict';function k(){(c.devicePixelRatio||1)!==a&&c.location.reload();var b=f.getBoundingClientRect().width/a;540<b&&(b=540);b=c.parseFloat(a*b*100/750);f.style.fontSize=b+"px";l.rem=c.rem=b}function n(b){var c=f.firstElementChild,a=d.createElement("style");a.type="text/css";a.styleSheet&&a.styleSheet.cssText?a.styleSheet.cssText=b:a.appendChild(d.createTextNode(b));c.appendChild(a);return a}var d=c.document,f=d.documentElement,g=null,a=(g=f.getAttribute("data-dpr")||"")?g:c.devicePixelRatio||1,m=1/a,l=e.flexible||(e.flexible={}),h=null;e=function(){var b=c.navigator.appVersion,a="pc";/(iPhone|iPod|iPad)/i.test(b)?a="ios":/(Android)/i.test(b)?a="android":/(Windows Phone)/i.test(b)?a="wp":a="pc";return a}();f.setAttribute("data-dpr",a);"pc"===e&&n("::-webkit-scrollbar{display: none !important}html, .fixed{margin-left: auto !important;margin-right: auto !important;width: "+414*a+"px !important;");g=d.createElement("meta");g.setAttribute("name","viewport");g.setAttribute("content","initial-scale\x3d"+m+", maximum-scale\x3d"+m+", minimum-scale\x3d"+m+", user-scalable\x3dno");e=null;f.firstElementChild?f.firstElementChild.appendChild(g):(e=d.createElement("div"),e.appendChild(g),d.write(e.innerHTML));c.addEventListener("resize",function(){clearTimeout(h);h=c.setTimeout(k,300)},!1);c.addEventListener("pageshow",function(b){b.persisted&&(clearTimeout(h),h=c.setTimeout(k,300))},!1);void 0!==c.orientation&&c.addEventListener("orientationchange",function(){clearTimeout(h);h=c.setTimeout(k,300)},!1);"complete"===d.readyState?d.body.style.fontSize=12*a+"px":d.addEventListener("DOMContentLoaded",function(b){d.body.style.fontSize=12*a+"px"},!1);k();l.dpr=c.dpr=a;l.trans=k;l.rem2px=function(b){var a=c.parseFloat(b)*this.rem;"string"===typeof b&&b.match(/rem$/)&&(a+="px");return a};l.px2rem=function(a){var b=c.parseFloat(a)/100;"string"===typeof a&&a.match(/px$/)&&(b+="rem");return b}})(window,window.lib||(window.lib={}));
