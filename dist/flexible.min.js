/**
 * author: WangLe
 * github: [https://github.com/jiankafei]
 * 博客: [https://jiankafei.github.io/]
 */
;(function(c,f){'use strict';function m(){var a=c.devicePixelRatio;(q()?a?a===Math.floor(a)?a:1:1:1)!==b&&c.location.reload();a=g.getBoundingClientRect().width/b;540<a&&(a=540);a=c.parseFloat(b*a*100/750);g.style.fontSize=a+"px";n.rem=c.rem=a}function q(){return/iPhone|iPad|iPod/gi.test(p)||"object"===typeof window.chrome}function r(a){var c=g.firstElementChild,b=d.createElement("style");b.type="text/css";b.styleSheet&&b.styleSheet.cssText?b.styleSheet.cssText=a:b.appendChild(d.createTextNode(a));c.appendChild(b);return b}var d=c.document,g=d.documentElement,h=d.querySelector("meta[name\x3dviewport]"),p=c.navigator.appVersion,e=c.devicePixelRatio,k=g.getAttribute("data-dpr")||"",b=q()?k?k:e?e===Math.floor(e)?e:1:1:1,e=1/b,n=f.flexible||(f.flexible={}),l=null;f=function(){var a="pc";/(iPhone|iPod|iPad)/i.test(p)?a="ios":/(Android)/i.test(p)?a="android":/(Windows Phone)/i.test(p)?a="wp":a="pc";return a}();g.setAttribute("data-dpr",b);"pc"===f&&r("::-webkit-scrollbar{display: none !important}.fixed{position: fixed !important;left: 0 !important;right: 0 !important;}html, .fixed{margin-left: auto !important;margin-right: auto !important;width: "+414*b+"px !important;}");h||(f=g.firstElementChild,k=null,h=d.createElement("meta"),f?f.appendChild(h):(k=d.createElement("div"),k.appendChild(h),d.write(k.innerHTML)));h.setAttribute("name","viewport");h.setAttribute("content","width\x3ddevice-width, initial-scale\x3d"+e+", maximum-scale\x3d"+e+", minimum-scale\x3d"+e+", user-scalable\x3dno");c.addEventListener("resize",function(){clearTimeout(l);l=c.setTimeout(m,300)},!1);c.addEventListener("pageshow",function(a){a.persisted&&(clearTimeout(l),l=c.setTimeout(m,300))},!1);void 0!==c.orientation&&c.addEventListener("orientationchange",function(){clearTimeout(l);l=c.setTimeout(m,300)},!1);"complete"===d.readyState?d.body.style.fontSize=12*b+"px":d.addEventListener("DOMContentLoaded",function(a){d.body.style.fontSize=12*b+"px"},!1);m();n.dpr=c.dpr=b;n.trans=m;n.rem2px=function(a){var b=c.parseFloat(a)*this.rem;"string"===typeof a&&a.match(/rem$/)&&(b+="px");return b};n.px2rem=function(a){var b=c.parseFloat(a)/100;"string"===typeof a&&a.match(/px$/)&&(b+="rem");return b};window.useZoom=q()})(window,window.lib||(window.lib={}));
