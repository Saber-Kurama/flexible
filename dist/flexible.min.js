/**
 * author: WangLe
 * github: [https://github.com/jiankafei]
 * 博客: [https://jiankafei.github.io/]
 */
;(function(c,e){'use strict';function k(){var a=c.devicePixelRatio;(p()?a?a===Math.floor(a)?a:1:1:1)!==b&&c.location.reload();a=g.getBoundingClientRect().width/b;540<a&&(a=540);a=c.parseFloat(b*a*100/750);g.style.fontSize=a+"px";l.rem=c.rem=a}function p(){return/iPhone|iPad|iPod/gi.test(m)||"object"===typeof window.chrome}function r(a){var c=g.firstElementChild,b=d.createElement("style");b.type="text/css";b.styleSheet&&b.styleSheet.cssText?b.styleSheet.cssText=a:b.appendChild(d.createTextNode(a));c.appendChild(b);return b}var d=c.document,g=d.documentElement,n=d.createElement("meta"),m=c.navigator.appVersion,f=c.devicePixelRatio,q=g.getAttribute("data-dpr")||"",b=p()?q?q:f?f===Math.floor(f)?f:1:1:1,f=1/b,l=e.flexible||(e.flexible={}),h=null;e=function(){var a="pc";/(iPhone|iPod|iPad)/i.test(m)?a="ios":/(Android)/i.test(m)?a="android":/(Windows Phone)/i.test(m)?a="wp":a="pc";return a}();g.setAttribute("data-dpr",b);"pc"===e&&r("::-webkit-scrollbar{display: none !important}.fixed{position: fixed !important;left: 0 !important;right: 0 !important;}html, .fixed{margin-left: auto !important;margin-right: auto !important;width: "+414*b+"px !important;}");n.setAttribute("name","viewport");n.setAttribute("content","initial-scale\x3d"+f+", maximum-scale\x3d"+f+", minimum-scale\x3d"+f+", user-scalable\x3dno");e=null;g.firstElementChild?g.firstElementChild.appendChild(n):(e=d.createElement("div"),e.appendChild(n),d.write(e.innerHTML));c.addEventListener("resize",function(){clearTimeout(h);h=c.setTimeout(k,300)},!1);c.addEventListener("pageshow",function(a){a.persisted&&(clearTimeout(h),h=c.setTimeout(k,300))},!1);void 0!==c.orientation&&c.addEventListener("orientationchange",function(){clearTimeout(h);h=c.setTimeout(k,300)},!1);"complete"===d.readyState?d.body.style.fontSize=12*b+"px":d.addEventListener("DOMContentLoaded",function(a){d.body.style.fontSize=12*b+"px"},!1);k();l.dpr=c.dpr=b;l.trans=k;l.rem2px=function(a){var b=c.parseFloat(a)*this.rem;"string"===typeof a&&a.match(/rem$/)&&(b+="px");return b};l.px2rem=function(a){var b=c.parseFloat(a)/100;"string"===typeof a&&a.match(/px$/)&&(b+="rem");return b};window.useZoom=p()})(window,window.lib||(window.lib={}));
